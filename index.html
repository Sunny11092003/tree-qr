<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Firebase Realtime DB Fetch</title>
</head>
<body>
  <h1>Firebase Data Viewer</h1>
  <div id="output">Loading...</div>

  <!-- Firebase SDKs -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

  <script>
    // 🔐 Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyBHlppkQ0CGV3cxs3IT4ybrOC2p4QmZ8lo",
    authDomain: "treeqrsystem.firebaseapp.com",
    databaseURL: "https://treeqrsystem-default-rtdb.firebaseio.com",
    projectId: "treeqrsystem",
    storageBucket: "treeqrsystem.appspot.com",
    messagingSenderId: "391723015713",
    appId: "1:391723015713:web:2f85beae0f23fb89b44d60",
    measurementId: "G-HLS37X56H7"
    };

    // ✅ Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    // 🔍 Get ID from URL
    const params = new URLSearchParams(window.location.search);
    const id = params.get('id'); // example: ?id=user123

    const outputDiv = document.getElementById('output');

    if (id) {
      const dataRef = database.ref('your-data-node/' + id); // adjust the path as needed

      dataRef.once('value')
        .then((snapshot) => {
          if (snapshot.exists()) {
            const data = snapshot.val();
            outputDiv.innerText = JSON.stringify(data, null, 2);
          } else {
            outputDiv.innerText = 'No data found for ID: ' + id;
          }
        })
        .catch((error) => {
          outputDiv.innerText = 'Error fetching data: ' + error;
        });
    } else {
      outputDiv.innerText = 'No ID found in URL (use ?id=yourId)';
    }
  </script>
</body>
</html>
